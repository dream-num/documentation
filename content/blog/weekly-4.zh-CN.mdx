---
title: "Univer 周报 #4"
author: 白熱
date: 2025-07-11
---

import { AIcon, BanIcon } from '@univerjs/icons'
import { RainbowButton } from '@/components/magicui/rainbow-button'

如果你觉得 Univer 有用，请考虑在 GitHub 上给我们点个星。你的支持将帮助我们继续改进和维护 Univer。

<a href="https://github.com/dream-num/univer" target="_blank" rel="noopener noreferrer">
  <RainbowButton variant="outline">⭐️ 在 GitHub 上点个星</RainbowButton>
</a>

---

## 概览

本周我们在文档中新增了[《生命周期》](/guides/sheets/getting-started/lifecycle)的章节，以及增加了如何[编写 UI 适配器来支持自定义 Vue 2.x 组件](/guides/sheets/ui/components#vue-2x)。

此外，我们还发布了 **Univer v0.9.2**，此次更新主要增加了根据颜色筛选的功能，以及新增了一些实用的 Facade API。

## 文档更新

### 生命周期入门指南

新增的[生命周期章节](/guides/sheets/getting-started/lifecycle)简单介绍了 Univer 的生命周期设计，包括各个阶段的含义和开发者如何利用生命周期事件来控制功能加载和执行时机。通过该章节，你可以了解到如何寻找合适的时机来执行你的业务逻辑。

### 使用 Vue 2.x 组件作为自定义组件

得益于 0.9.1 版本新增的 UI 适配器体系，你现在可以通过编写 UI 适配器来支持 Vue 2.x 组件。文档中提供了详细的步骤和示例，帮助你快速上手。

详情请参考[此处](https://docs.univer.ai/guides/sheets/ui/components#vue-2x)。

## Univer v0.9.2

### 根据颜色筛选

从 v0.9.2 开始，Univer Sheets Filter（`@univerjs/sheets-filter`、`@univerjs/sheets-filter-ui`）增加了根据颜色筛选的功能。现在你可以通过颜色来筛选单元格内容，进一步提升数据处理的灵活性和效率。

更新后直接在筛选菜单中选择颜色即可进行筛选，无需额外配置。

### Facade API

`@univerjs/sheets-drawing-ui/facade` 新增了以下事件和方法：

**新增事件**

- `univerAPI.Event.BeforeFloatDomAdd`：在浮动 DOM 添加之前触发，允许开发者在添加前进行自定义处理。
- `univerAPI.Event.FloatDomAdded`：在浮动 DOM 添加后触发，适合进行后续操作或状态更新。
- `univerAPI.Event.BeforeFloatDomUpdate`：在浮动 DOM 更新之前触发，允许开发者在更新前进行自定义处理。
- `univerAPI.Event.FloatDomUpdated`：在浮动 DOM 更新后触发，适合进行后续操作或状态更新。
- `univerAPI.Event.BeforeFloatDomDelete`：在浮动 DOM 删除之前触发，允许开发者在删除前进行自定义处理。
- `univerAPI.Event.FloatDomDeleted`：在浮动 DOM 删除后触发，适合进行后续操作或状态更新。

**新增 FWorksheet 方法**

- `fWorksheet.getFloatDomById`：根据浮动 DOM 的 id 获取对应的浮动 DOM 信息，未找到则返回 null。
- `fWorksheet.getAllFloatDoms`：获取当前工作表内所有浮动 DOM 的信息数组。
- `fWorksheet.updateFloatDom`：根据 id 更新指定浮动 DOM 的位置和属性，支持链式调用。
- `fWorksheet.batchUpdateFloatDoms`：批量更新多个浮动 DOM 的属性，支持链式调用。
- `fWorksheet.removeFloatDom`：根据 id 移除指定的浮动 DOM ，支持链式调用。

### Univer Server v0.9.2

Univer Server 的导出功能也得到了增强，支持导出单元格中的图片，并修复了导出超链接失效的问题。

### 其他功能与修复

- **内部依赖更新**
  - `@univerjs/icons` 更新至 v0.4.6，新增图标 <AIcon className="inline-flex" /> `<AIcon />` 和 <BanIcon className="inline-flex" /> `<BanIcon />`
  - `@wendellhu/redi` 更新至 v0.19.2
- **兼容性与体验优化**
  - 移除了 `@univerjs/ui-adapter-vue3` 包中对特定 Vue 版本的依赖
  - 公式修复及优化
    - 修复了 `SUBTOTAL` 公式计算时未忽略其它 `SUBTOTAL` 计算结果的问题
    - 修复了 `TRUE` 和 `FALSE` 渲染错误的问题
    - 修复了处于公式编辑状态时，公式选区不能拖动的问题
  - 修复自定义排序面板在西语下排版错误的问题

更多详细的更新内容和历史版本信息，请访问我们的 [GitHub Releases](https://github.com/dream-num/univer/releases/tag/v0.9.2) 页面。

---

感谢每一位社区开发者和用户的关注与支持！我们将持续优化产品体验，欢迎大家提出宝贵建议或参与贡献。
