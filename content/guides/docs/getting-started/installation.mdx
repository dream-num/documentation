---
title: Installation & Basic Usage
icon: Blocks
---

import { Playground } from '@/components/playground'
import slimViaPlugin from '@/showcase/docs/slim-via-plugin'
import slimViaPreset from '@/showcase/docs/slim-via-preset'

Univer adopts a plugin-based design philosophy, aiming to provide developers with a flexible and extensible framework for electronic document applications. Through this plugin-based design, Univer can easily integrate various functional modules to meet the needs of different users. However, the plugin-based design increases the complexity of the application, especially for developers who are new to Univer.

For this reason, Univer provides two ways to help you quickly integrate and use Univer: **plugin mode** and **preset mode**. The so-called **preset** is actually a combination of pre-configured plugins, so the capabilities provided by both modes are the same without complex extensions.

<Callout type="warning" title="Caution">
  - **Consistent Dependency Versions**: Whether you use preset mode or plugin mode, you must ensure that all dependencies have consistent version numbers.
  - **Cautious Mixing of Plugins and Presets**: If a plugin is already included in a preset, you do not need to import that plugin separately when using the preset. Otherwise, it may lead to plugin conflicts or functional anomalies.
</Callout>

Differences between preset mode and plugin mode:

| Plugin Mode | Preset Mode |
| --- | --- |
| Requires manual import of corresponding facade packages | No need to manually import any facade packages |
| Requires attention to the registration order of plugins with the same functionality | No need to pay attention to the registration order of functionalities included in presets |
| Supports on-demand lazy loading | Only supports preset-level lazy loading, plugins within the preset can only be loaded synchronously |

## Setting Up via Preset Mode

Here we will briefly introduce how to quickly build a Univer Docs application with less than twenty lines of code.

### Using Package Manager

If your project already uses modern front-end development tools, integrating Univer will be very simple. We recommend using build tools like [Vite](https://vitejs.dev/), [esbuild](https://esbuild.github.io/), or [Webpack 5](https://webpack.js.org/) that have good support for ES Modules to build Univer applications. If you are using other build tools (such as Webpack 4), you may need some additional configuration. Please read the [Common Issues](/guides/sheets/troubleshooting) for more information.

#### Installation

Choose your package manager to install `@unvierjs/presets`:

```package-install
npm install @univerjs/presets @univerjs/preset-docs-core
```

#### Usage

<Callout type="warning">
  If your build tool does not support the `exports` field in package.json (common in Webpack 4), you need to manually change the mapped paths to the actual paths.
</Callout>

With the following code, you can start an Univer Docs application:

```typescript
import { UniverDocsCorePreset } from '@univerjs/preset-docs-core'
import UniverPresetDocsCoreEnUS from '@univerjs/preset-docs-core/locales/en-US'
import { createUniver, LocaleType, merge } from '@univerjs/presets'

const { univer, univerAPI } = createUniver({
  locale: LocaleType.EN_US,
  locales: {
    [LocaleType.EN_US]: merge(
      {},
      UniverPresetDocsCoreEnUS,
    ),
  },
  presets: [
    UniverDocsCorePreset({
      container: 'app',
    }),
  ],
})

univerAPI.createUniverDoc({})
```

The `univerAPI` object returned here is called the Univer Facade API, through which you can call many features provided by Univer.

<Playground lang="en-US" {...slimViaPreset} options={{ clickToShow: true }} />

<Callout type="warning">
  You can also import `UniverDocsCorePreset` from `@univerjs/presets/preset-docs-core`, but you must ensure that your build tool supports the `exports` field in package.json.
</Callout>

#### `createUniver` Method

The `createUniver` method accepts a configuration object that contains the configuration information for Univer, such as language, theme, and plugins. This method returns an object containing the Univer instance and the Univer Facade API instance.

Some properties of the configuration object are as follows:

- `locale`: Language environment, can be an `LocaleType` enumeration value.
- `locales`: Locales, an object, the key is the language environment, and the value is the language pack object.
- `theme`: A theme object, which is optional.
- `presets`: An array of presets that contains the presets to be registered, such as `UniverDocsCorePreset`.
- `plugins`: An array of plugins that contains the plugins that need to be registered additionally.

When you use a plugin that is not included in any preset package or you implement your own plugin, you can register these plugins through the `plugins` property. You can also choose to register plugins using the `univer.registerPlugin` method after obtaining the Univer instance.

<Callout>
  You can find more detailed information about the `createUniver` method in the [API Reference / createUniver](/en-US/reference/methods/create-univer).
</Callout>

### Import from CDN (Not Recommended)

If you do not use a package management tool, you can also include Univer via `<script>` tags.

We provide UMD builds of Univer on popular CDN services (such as jsDelivr, unpkg), you can include these resources in your HTML file (of course, you can also download these files and distribute them through your own server or CDN network):

#### Namespace Specification

Each preset UMD build exposes a namespace on the global object, following the naming convention below:

```plain
# Preset Mode
@univerjs/presets -> UniverPresets
@univerjs/preset-docs-core -> UniverPresetDocsCore
@univerjs/preset-docs-core/locales/en-US -> UniverPresetDocsCoreEnUS

# Plugin Mode
@univerjs/core -> UniverCore
@univerjs/docs-ui -> UniverDocsUi
@univerjs-pro/docs-print -> UniverProDocsPrint
@univerjs/docs-ui/locale/en-US -> UniverDocsUiEnUS
@univerjs/core/facade -> UniverCoreFacade
```

<Callout type="warning" title="Caution">
  When using `<script>` tags to include Univer's UMD builds, the usage is similar to using package management tools and build tools. However, you need to note that although preset packages are essentially collections of plugins, when you want to access a specific plugin's objects or methods, you must obtain them from the plugin's namespace, not from the namespace of the preset package that contains them.

  For example, although `@univerjs/core` is included in `@univerjs/presets`, you still need to access it from the namespace `UniverCore` of `@univerjs/core`:
</Callout>

#### Example

```html
<head>
  <script src="https://unpkg.com/react@18.3.1/umd/react.production.min.js"></script>
  <script src="https://unpkg.com/react-dom@18.3.1/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/rxjs/dist/bundles/rxjs.umd.min.js"></script>
  <script src="https://unpkg.com/echarts@5.6.0/dist/echarts.min.js"></script>

  <script src="https://unpkg.com/@univerjs/presets/lib/umd/index.js"></script>

  <script src="https://unpkg.com/@univerjs/preset-docs-core/lib/umd/index.js"></script>
  <script src="https://unpkg.com/@univerjs/preset-docs-core/lib/umd/locales/en-US.js"></script>
  <link rel="stylesheet" href="https://unpkg.com/@univerjs/preset-docs-core/lib/index.css" />
  <style>
    html,
    body,
    #root,
    #app {
      padding: 0;
      margin: 0;
      height: 100%;
    }
  </style>
</head>
<body>
  <div id="app"></div>

  <script>
    const { createUniver } = UniverPresets
    const { LocaleType, merge } = UniverCore
    const { UniverDocsCorePreset } = UniverPresetDocsCore

    const { univerAPI } = createUniver({
      locale: LocaleType.EN_US,
      locales: {
        [LocaleType.EN_US]: merge({}, UniverPresetDocsCoreEnUS),
      },
      presets: [UniverDocsCorePreset()],
    })

    univerAPI.createUniverDoc({}) // Create your first document
  </script>
</body>
```

#### Specifying Versions

unpkg & jsDeliver both support specifying a specific version of the resource. For example, if you want to use version `x.y.z` of Univer, you can simply add `@<version>` to the URL:

```diff
- https://unpkg.com/@univerjs/presets/lib/umd/index.js
+ https://unpkg.com/@univerjs/presets@x.y.z/lib/umd/index.js
```

## Setting Up via Plugin Mode

Univer provides a series of features in the form of plugins. In addition to some core plugins that are essential for the product, you can selectively introduce other plugins as needed. Here, we will take the most basic Univer Docs application as an example to introduce how to manually combine and install plugins.

Different from preset mode, plugin mode does not include Facade API by default. The parts related to Facade API in the following code examples are optional, and you can decide whether to remove them based on your needs.

### Using Package Manager

#### Installation

We use React to develop the view (this does not affect your use of Univer in Vue or Angular), and Rxjs to handle data streams. Since these two libraries are widely used in modern front-end development, we treat them as peerDependencies. However, different package management tools have different behaviors regarding peerDependencies, so you may need to pay attention to some details.

<Callout>
  - If you are using npm, make sure you are using npm@7 or higher. This is because npm@3 ~ npm@6 will not correctly install `peerDependencies`[^1].
  - If you are using pnpm, make sure you are using pnpm@8 or higher. If you are using pnpm@6 ~ pnpm@7, you can try configuring `auto-install-peers=true` [^2] to resolve dependency installation issues.
  - If you are using yarn, you need to manually install the missing `peerDependencies`[^3], but don't worry, the installation commands below already include these dependencies.
</Callout>

<Tabs items={['npm', 'pnpm', 'yarn']}>
  <Tab>
    ```shell
    npm install @univerjs/core @univerjs/design @univerjs/docs @univerjs/docs-ui @univerjs/engine-formula @univerjs/engine-render @univerjs/ui
    ```
  </Tab>
  <Tab>
    ```shell
    pnpm add @univerjs/core @univerjs/design @univerjs/docs @univerjs/docs-ui @univerjs/engine-formula @univerjs/engine-render @univerjs/ui
    ```
  </Tab>
  <Tab>
    ```shell
    yarn add @univerjs/core @univerjs/design @univerjs/docs @univerjs/docs-ui @univerjs/engine-formula @univerjs/engine-render @univerjs/ui react react-dom rxjs
    ```
  </Tab>
</Tabs>

#### Usage

<Callout type="warning" title="Caution">
  - Not all plugins include facade packages, language packs, and style files. We will specify this in the documentation for each feature.
  - The order of importing style files is important. Make sure to import the CSS styles of `@univerjs/design` and `@univerjs/ui` before importing the styles of other plugins.
</Callout>

You need to import the Univer style files, language packs, and some necessary plugins in your project:

```typescript
import { LocaleType, merge, Univer, UniverInstanceType } from '@univerjs/core'
import { FUniver } from '@univerjs/core/facade'
import DesignEnUS from '@univerjs/design/locale/en-US'
import { UniverDocsPlugin } from '@univerjs/docs'
import { UniverDocsUIPlugin } from '@univerjs/docs-ui'
import DocsUIEnUS from '@univerjs/docs-ui/locale/en-US'
import { UniverFormulaEnginePlugin } from '@univerjs/engine-formula'
import { UniverRenderEnginePlugin } from '@univerjs/engine-render'
import { UniverUIPlugin } from '@univerjs/ui'
import UIEnUS from '@univerjs/ui/locale/en-US'

// The Facade API here is optional, you can decide whether to import it according to your needs
import '@univerjs/engine-formula/facade'
import '@univerjs/ui/facade'
import '@univerjs/docs-ui/facade'

import '@univerjs/design/lib/index.css'
import '@univerjs/ui/lib/index.css'
import '@univerjs/docs-ui/lib/index.css'
```

Then create a Univer instance and register these plugins:

```typescript
const univer = new Univer({
  locale: LocaleType.EN_US,
  locales: {
    [LocaleType.EN_US]: merge(
      {},
      DesignEnUS,
      UIEnUS,
      DocsUIEnUS,
    ),
  },
})

univer.registerPlugin(UniverRenderEnginePlugin)
univer.registerPlugin(UniverFormulaEnginePlugin)

univer.registerPlugin(UniverUIPlugin, {
  container: 'app',
})

univer.registerPlugin(UniverDocsPlugin)
univer.registerPlugin(UniverDocsUIPlugin)

univer.createUnit(UniverInstanceType.UNIVER_DOC, {})

const univerAPI = FUniver.newAPI(univer)
```

<Playground lang="en-US" {...slimViaPlugin} options={{ clickToShow: true }} />

#### Lazy Loading Plugins

A common advantage of plugin mode is that you can control the loading timing of plugins more flexibly. A common approach is to load only the essential plugins during application initialization, while deferring the loading of some plugins until after the first render is complete.

```typescript
// ...

univer.createUnit(UniverInstanceType.UNIVER_DOC, {})

import('@univerjs/watermark').then(({ UniverWatermarkPlugin }) => {
  univer.registerPlugin(UniverWatermarkPlugin, {
    textWatermarkSettings: {
      content: 'Hello, Univer!',
      fontSize: 36,
    },
  })
})
```

Our [official demo](https://github.com/dream-num/univer/blob/dev/examples/src/sheets/main.ts) uses this optimization technique, which you can refer to.

### Import from CDN (Not Recommended)

Univer also provides UMD builds for each plugin, but unlike preset mode, you need to manually include the UMD builds of each plugin and their dependencies. This process is very cumbersome, and we **do not recommend** this approach. Please consider using it only after fully understanding the plugin mechanism (such as the dependencies between plugins and the order of including plugin style files).

{/* #### 命名空间规范 */}
#### Namespace Specification

Before, we have introduced [the namespace specification of Univer in Preset Mode](/en-US/guides/docs/getting-started/installation#namespace-specification). Here we will continue to use the same namespace specification to introduce plugins.

#### Example

```html
<head>
  <script src="https://unpkg.com/react@18.3.1/umd/react.production.min.js"></script>
  <script src="https://unpkg.com/react-dom@18.3.1/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/rxjs@7.8.1/dist/bundles/rxjs.umd.min.js"></script>
  <script src="https://unpkg.com/echarts@5.6.0/dist/echarts.min.js"></script>
  <script src="https://unpkg.com/@wendellhu/redi/dist/redi.js"></script>
  <script src="https://unpkg.com/@wendellhu/redi/dist/react-bindings.js"></script>

  <script src="https://unpkg.com/@univerjs/protocol/lib/umd/index.js"></script>
  <script src="https://unpkg.com/@univerjs/core/lib/umd/index.js"></script>
  <script src="https://unpkg.com/@univerjs/telemetry/lib/umd/index.js"></script>
  <script src="https://unpkg.com/@univerjs/rpc/lib/umd/index.js"></script>
  <script src="https://unpkg.com/@univerjs/design/lib/umd/index.js"></script>
  <script src="https://unpkg.com/@univerjs/engine-render/lib/umd/index.js"></script>
  <script src="https://unpkg.com/@univerjs/engine-numfmt/lib/umd/index.js"></script>
  <script src="https://unpkg.com/@univerjs/engine-formula/lib/umd/index.js"></script>
  <script src="https://unpkg.com/@univerjs/drawing/lib/umd/index.js"></script>

  <script src="https://unpkg.com/@univerjs/ui/lib/umd/index.js"></script>
  <script src="https://unpkg.com/@univerjs/docs/lib/umd/index.js"></script>
  <script src="https://unpkg.com/@univerjs/docs-ui/lib/umd/index.js"></script>

  <script src="https://unpkg.com/@univerjs/core/lib/umd/facade.js"></script>
  <script src="https://unpkg.com/@univerjs/engine-formula/lib/umd/facade.js"></script>
  <script src="https://unpkg.com/@univerjs/ui/lib/umd/facade.js"></script>
  <script src="https://unpkg.com/@univerjs/docs-ui/lib/umd/facade.js"></script>

  <script src="https://unpkg.com/@univerjs/design/lib/umd/locale/en-US.js"></script>
  <script src="https://unpkg.com/@univerjs/ui/lib/umd/locale/en-US.js"></script>
  <script src="https://unpkg.com/@univerjs/docs-ui/lib/umd/locale/en-US.js"></script>

  <link rel="stylesheet" href="https://unpkg.com/@univerjs/design/lib/index.css" />
  <link rel="stylesheet" href="https://unpkg.com/@univerjs/ui/lib/index.css" />
  <link rel="stylesheet" href="https://unpkg.com/@univerjs/docs-ui/lib/index.css" />

  <style>
    html,
    body,
    #root,
    #app {
      padding: 0;
      margin: 0;
      height: 100%;
    }
  </style>
</head>
<body>
  <div id="app"></div>

  <script>
    const { Univer, LocaleType, merge, UniverInstanceType } = UniverCore
    const { FUniver } = UniverCoreFacade
    const { UniverRenderEnginePlugin } = UniverEngineRender
    const { UniverFormulaEnginePlugin } = UniverEngineFormula
    const { UniverUIPlugin } = UniverUi
    const { UniverDocsPlugin } = UniverDocs
    const { UniverDocsUIPlugin } = UniverDocsUi

    const univer = new Univer({
      locale: LocaleType.EN_US,
      locales: {
        [LocaleType.EN_US]: merge({}, UniverDesignEnUS, UniverUiEnUS, UniverDocsUiEnUS),
      },
    })

    univer.registerPlugin(UniverRenderEnginePlugin)
    univer.registerPlugin(UniverFormulaEnginePlugin)

    univer.registerPlugin(UniverUIPlugin, {
      container: 'app',
    })

    univer.registerPlugin(UniverDocsPlugin)
    univer.registerPlugin(UniverDocsUIPlugin)

    univer.createUnit(UniverInstanceType.UNIVER_DOC, {})

    const univerAPI = FUniver.newAPI(univer)
  </script>
</body>
```

## Other Releases

In addition to stable releases, Univer offers alpha / beta and nightly channels. These versions allow you to get early access to the newest features that have not been officially released yet. However, keep in mind that more features also mean more risks. These versions may contain bugs, incomplete functionality, or unstable features. Please avoid using these versions in production environments whenever possible.

### Alpha / Beta Release

When the Univer development team completes a new feature or significant change, they may pre-release it to the alpha or beta channel. You can install the alpha / beta version of a Univer package using the following command:

```package-install
npm install @univerjs/<package-name>@alpha # Alpha version
npm install @univerjs/<package-name>@beta # Beta version
```

### Nightly Releases

Nightly versions are automatically built versions of Univer, generated daily with the latest changes, bug fixes, and experimental features. These versions are highly unstable and not suitable for use in production environments. However, they are ideal for testing the latest features and ensuring compatibility with the most recent codebase.

```package-install
npm install @univerjs/<package-name>@nightly
```

<Callout type="error" title="Warning">
  Nightly versions are extremely unstable and may contain fatal errors, incomplete features, or experimental functionality. Please absolutely DO NOT use these versions in production environments.
</Callout>

If you encounter any issues or have any feedback while using nightly versions, please report them to the Univer development team through appropriate channels, such as [Github Issues](https://github.com/dream-num/univer/issues) or the [Discord channels](https://discord.gg/XPGnMBmpd6).

Happy early access experimentation!

## Next Steps

* [Basic Concepts](/introduction/concepts) - Learn about the basic concepts of Univer.
* [Features](/guides/docs/features/core) - Learn about the features of Univer and how to manipulate data.

---

[^1]: https://blog.npmjs.org/post/110924823920/npm-weekly-5
[^2]: https://pnpm.io/npmrc#auto-install-peers
[^3]: https://github.com/yarnpkg/yarn/issues/1503
