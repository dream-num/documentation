---
title: Node.js
---

Univer 具备同构特性，不仅可在浏览器端运行，还能在 Node.js 环境下使用。你可以基于 Univer on Node.js 开发数据处理服务，在服务器端生成或修改文档，并通过 Facade API 与 Univer Sheets 进行交互。

Univer on Node.js 与浏览器端的使用方式类似，在预设模式下我们提供开箱即用的预设包；而在插件模式下，你仅需把涉及 UI 的插件排除即可。

### 预设模式

#### 安装

```package-install
npm install @univerjs/preset-docs-node-core
```

#### 使用

```typescript
import { UniverSheetsNodeCorePreset } from '@univerjs/preset-docs-node-core' // [!code ++]
import docsNodeCoreZhCN from '@univerjs/preset-docs-node-core/locales/zh-CN' // [!code ++]
import { createUniver, LocaleType, merge } from '@univerjs/presets'

async function run(): Promise<void> {
  const { univerAPI } = createUniver({
    locale: LocaleType.ZH_CN,
    locales: {
      [LocaleType.ZH_CN]: merge(
        {},
        docsNodeCoreZhCN, // [!code ++]
      ),
    },
    presets: [
      UniverSheetsNodeCorePreset(), // [!code ++]
    ],
  })

  // 你可以在这里任意调用 Facade API 进行文档处理
}

run()
```

### 插件模式

#### 安装

```package-install
npm install @univerjs/core @univerjs/engine-render @univerjs/engine-formula @univerjs/docs @univerjs/sheets @univerjs/sheets-ui @univerjs/sheets-formula @univerjs/sheets-numfmt
```

#### 使用

```typescript
import { LocaleType, merge, Univer, UniverInstanceType } from '@univerjs/core'
import { FUniver } from '@univerjs/core/facade'
import DesignZhCN from '@univerjs/design/locale/zh-CN' // [!code --]
import { UniverDocsPlugin } from '@univerjs/docs'
import { UniverDocsUIPlugin } from '@univerjs/docs-ui' // [!code --]
import DocsUIZhCN from '@univerjs/docs-ui/locale/zh-CN' // [!code --]
import { UniverFormulaEnginePlugin } from '@univerjs/engine-formula'
import { UniverRenderEnginePlugin } from '@univerjs/engine-render'
import { UniverSheetsPlugin } from '@univerjs/sheets'
import { UniverSheetsFormulaPlugin } from '@univerjs/sheets-formula'
import { UniverSheetsFormulaUIPlugin } from '@univerjs/sheets-formula-ui' // [!code --]
import SheetsFormulaUIZhCN from '@univerjs/sheets-formula-ui/locale/zh-CN' // [!code --]
import { UniverSheetsNumfmtPlugin } from '@univerjs/sheets-numfmt'
import { UniverSheetsNumfmtUIPlugin } from '@univerjs/sheets-numfmt-ui' // [!code --]
import SheetsNumfmtUIZhCN from '@univerjs/sheets-numfmt-ui/locale/zh-CN' // [!code --]
import { UniverSheetsUIPlugin } from '@univerjs/sheets-ui' // [!code --]
import SheetsUIZhCN from '@univerjs/sheets-ui/locale/zh-CN' // [!code --];
import SheetsZhCN from '@univerjs/sheets/locale/zh-CN'
import { UniverUIPlugin } from '@univerjs/ui' // [!code --]
import UIZhCN from '@univerjs/ui/locale/zh-CN' // [!code --]

import '@univerjs/engine-formula/facade'
import '@univerjs/ui/facade' // [!code --]
import '@univerjs/docs-ui/facade' // [!code --]
import '@univerjs/sheets/facade'
import '@univerjs/sheets-ui/facade' // [!code --]
import '@univerjs/sheets-formula/facade'
import '@univerjs/sheets-numfmt/facade'

import '@univerjs/design/lib/index.css' // [!code --]
import '@univerjs/ui/lib/index.css' // [!code --]
import '@univerjs/docs-ui/lib/index.css' // [!code --]
import '@univerjs/sheets-ui/lib/index.css' // [!code --]
import '@univerjs/sheets-formula-ui/lib/index.css' // [!code --]
import '@univerjs/sheets-numfmt-ui/lib/index.css' // [!code --]

const univer = new Univer({
  locale: LocaleType.ZH_CN,
  locales: {
    [LocaleType.ZH_CN]: merge(
      {},
      DesignZhCN, // [!code --]
      UIZhCN, // [!code --]
      DocsUIZhCN, // [!code --]
      SheetsZhCN,
      SheetsUIZhCN, // [!code --]
      SheetsFormulaUIZhCN, // [!code --]
      SheetsNumfmtUIZhCN, // [!code --]
    ),
  },
})

univer.registerPlugin(UniverRenderEnginePlugin)
univer.registerPlugin(UniverFormulaEnginePlugin)
univer.registerPlugin(UniverUIPlugin, { // [!code --]
  container: 'app', // [!code --]
}) // [!code --]
univer.registerPlugin(UniverDocsPlugin)
univer.registerPlugin(UniverDocsUIPlugin) // [!code --]
univer.registerPlugin(UniverSheetsPlugin)
univer.registerPlugin(UniverSheetsUIPlugin) // [!code --]
univer.registerPlugin(UniverSheetsFormulaPlugin)
univer.registerPlugin(UniverSheetsFormulaUIPlugin) // [!code --]
univer.registerPlugin(UniverSheetsNumfmtPlugin)
univer.registerPlugin(UniverSheetsNumfmtUIPlugin) // [!code --]

univer.createUnit(UniverInstanceType.UNIVER_SHEET, {})
```
